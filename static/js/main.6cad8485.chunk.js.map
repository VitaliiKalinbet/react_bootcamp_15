{"version":3,"sources":["pages/HomePage/HomePage.js","services/api.js","components/SearchBar/SearchBar.js","pages/ShowsPage/ShowsPage.js","routes.js","pages/NotFoundPage/NotFoundPage.js","components/Navigation/Navigation.js","pages/ShowDetailsPage/ShowDetailsPage.js","components/App.js","index.js"],"names":["HomePage","searchShows","query","axios","get","searchExactShow","id","SearchBar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","onSubmit","props","this","onChange","type","Component","ShowsPage","shows","fetchFilms","q","API","then","res","data","onSearchSubmit","history","location","push","search","currentSearch","URLSearchParams","prevProps","prevSearch","map","el","key","show","to","name","NotFoundPage","routes","Navigation","style","display","justifyContent","width","margin","listStyle","ShowDetailsPage","fetchShow","showId","match","params","returnToPrevLocation","goBack","onClick","src","image","medium","alt","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6cad8485.chunk.js","sourcesContent":["import React from 'react';\n\nconst HomePage = () => {\n  return (\n    <div>\n      <h2>HomePage</h2>\n      <p>\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempora,\n        deleniti velit. Ad, sit sint voluptatibus praesentium doloribus fuga\n        voluptatum est quam aut sunt quibusdam earum dicta porro natus enim\n        repellendus possimus corrupti rem. Optio quos, sequi vero voluptas non\n        veritatis aliquam nulla mollitia iusto accusamus maiores blanditiis\n        architecto ipsam, necessitatibus praesentium delectus dolore, facere\n        quis voluptatum deleniti provident corrupti! Blanditiis similique\n        commodi ipsum est dicta voluptate doloribus fugit, cum necessitatibus\n        nihil unde numquam dolorem quam amet reprehenderit. Praesentium illum\n        sint earum, quis officia eius! Incidunt nemo error quia et, est quis nam\n        facere quam debitis, hic dolorum asperiores exercitationem! Dicta?\n      </p>\n    </div>\n  );\n};\n\nexport default HomePage;\n","import axios from 'axios';\n\nexport const searchShows = (query = 'superman') =>\n  axios.get(`https://api.tvmaze.com/search/shows?q=${query}`);\n\nexport const searchExactShow = id =>\n  axios.get(`http://api.tvmaze.com/shows/${id}`);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input value={value} onChange={this.handleChange} type=\"text\" />\n        <button type=\"submit\">Search</button>\n      </form>\n    );\n  }\n}\n\nexport default SearchBar;\n","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport * as API from '../../services/api';\nimport SearchBar from '../../components/SearchBar/SearchBar';\n\nclass ShowsPage extends Component {\n  static propTypes = {\n    history: PropTypes.shape({}).isRequired,\n    location: PropTypes.shape({}).isRequired,\n  };\n\n  state = {\n    shows: [],\n  };\n\n  componentDidMount() {\n    const { location } = this.props;\n    const currentSearch = new URLSearchParams(location.search).get('search');\n\n    if (!currentSearch) {\n      return;\n    }\n\n    this.fetchFilms(currentSearch);\n  }\n\n  componentDidUpdate(prevProps) {\n    const prevSearch = new URLSearchParams(prevProps.location.search).get(\n      'search',\n    );\n    const { location } = this.props;\n    const currentSearch = new URLSearchParams(location.search).get('search');\n\n    if (prevSearch === currentSearch) {\n      return;\n    }\n\n    this.fetchFilms(currentSearch);\n  }\n\n  fetchFilms = q => {\n    API.searchShows(q).then(res => this.setState({ shows: res.data }));\n  };\n\n  onSearchSubmit = query => {\n    const { history, location } = this.props;\n    history.push({\n      ...location,\n      search: `?search=${query}`,\n    });\n  };\n\n  render() {\n    const { shows } = this.state;\n    return (\n      <div>\n        <SearchBar onSubmit={this.onSearchSubmit} />\n        <ul>\n          {shows.map(el => (\n            <li key={el.show.id}>\n              <Link to={`/show/${el.show.id}`}>{el.show.name}</Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default ShowsPage;\n","export default {\n  HOME: '/',\n  SHOWS: '/show',\n  SHOWS_DETAILS: '/show/:showId',\n};\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport routes from '../../routes';\n\nconst NotFoundPage = () => {\n  return (\n    <div>\n      <h2>Такая страница не найдена</h2>\n      <p>\n        Вот наша домашняя страница: <NavLink to={routes.HOME}> дом</NavLink>\n      </p>\n    </div>\n  );\n};\n\nexport default NotFoundPage;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport routes from '../../routes';\n\nconst Navigation = () => {\n  return (\n    <ul\n      style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        width: '500px',\n        margin: '0 auto',\n        listStyle: 'none',\n      }}\n    >\n      <li>\n        <NavLink to={routes.HOME}>Home page</NavLink>\n      </li>\n      <li>\n        <NavLink to={routes.SHOWS}>Shows page</NavLink>\n      </li>\n    </ul>\n  );\n};\n\nexport default Navigation;\n","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport * as API from '../../services/api';\n\nclass ShowDetailsPage extends Component {\n  state = {\n    show: null,\n  };\n\n  componentDidMount() {\n    this.fetchShow();\n  }\n\n  fetchShow = () => {\n    const { match } = this.props;\n    const { showId } = match.params;\n    API.searchExactShow(showId).then(res => this.setState({ show: res.data }));\n  };\n\n  returnToPrevLocation = () => {\n    const { history } = this.props;\n    history.goBack();\n  };\n\n  render() {\n    const { show } = this.state;\n    return (\n      <div>\n        <button type=\"button\" onClick={this.returnToPrevLocation}>\n          Go back\n        </button>\n        <h2>Details</h2>\n        {show && (\n          <>\n            <img src={show.image.medium} alt=\"\" />\n            <h2>{show.name}</h2>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ShowDetailsPage;\n","import React, { Component } from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport HomePage from '../pages/HomePage/HomePage';\nimport ShowsPage from '../pages/ShowsPage/ShowsPage';\nimport NotFoundPage from '../pages/NotFoundPage/NotFoundPage';\nimport Navigation from './Navigation/Navigation';\nimport ShowDetailsPage from '../pages/ShowDetailsPage/ShowDetailsPage';\nimport routes from '../routes';\n\nclass App extends Component {\n  state = {};\n\n  render() {\n    return (\n      <>\n        <Navigation />\n        <Switch>\n          <Route exact path={routes.HOME} component={HomePage} />\n          <Route path={routes.SHOWS_DETAILS} component={ShowDetailsPage} />\n          <Route path={routes.SHOWS} component={ShowsPage} />\n          <Route component={NotFoundPage} />\n          {/* Использование компонрента Route без пропа path и и спользование компонента Redirect взаимозаменяемые вещи, тут обое находятся для примера, но в данном примере до Redirect никогда не дойдет  */}\n          <Redirect to=\"/\" />\n        </Switch>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}